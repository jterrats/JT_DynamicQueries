/* Generic Searchable Combobox Styles - Optimized with SLDS + CSS Hooks */

:host {
  display: block;
  width: 100%;
  /* CSS Hooks for SLDS customization */
  --slds-c-input-spacing-block-start: 0;
  --slds-c-input-spacing-block-end: 0;
  --slds-c-input-color-border: var(--lwc-colorBorderInput, #dddbda);
  --slds-c-input-color-border-focus: var(--lwc-colorBorderBrand, #1589ee);
  --slds-c-input-color-border-error: var(--lwc-colorBorderError, #c23934);
  --slds-c-dropdown-max-height: 300px;
  --slds-c-dropdown-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  --slds-c-listbox-option-padding-block: var(--lwc-spacingSmall, 0.75rem);
  --slds-c-listbox-option-padding-inline: var(--lwc-spacingMedium, 1rem);
  --slds-c-listbox-option-color-background-hover: var(
    --lwc-colorBackgroundRowHover,
    #f3f3f3
  );
}

/* Form Element - Use SLDS defaults, only override width */
.slds-form-element {
  width: 100%;
}

/* Combobox Container - Use SLDS defaults, only position needed */
.slds-combobox_container {
  position: relative;
}

/* Dropdown - Use CSS Hooks + minimal overrides */
.slds-dropdown {
  position: absolute;
  z-index: 9999;
  top: 100%;
  width: 100%;
  max-height: var(--slds-c-dropdown-max-height, 300px);
  margin-top: var(--lwc-spacingXxxSmall, 0.125rem);
  overflow-y: auto;
  overflow-x: hidden;
  display: none;
  visibility: hidden;
  opacity: 0;
  transition:
    opacity 0.1s linear,
    visibility 0.1s linear;
}

.slds-dropdown.slds-is-open {
  display: flex;
  visibility: visible;
  opacity: 1;
}

.slds-dropdown_fluid {
  min-width: 100%;
}

/* Listbox - Use SLDS defaults, minimal overrides */
.slds-listbox {
  margin: 0;
  padding: var(--lwc-spacingXxxSmall, 0.25rem) 0;
}

/* Option - Use SLDS defaults + CSS Hooks for customization */
.slds-listbox__option {
  cursor: pointer;
  transition: background-color 0.1s linear;
}

.slds-listbox__option:hover {
  background-color: var(
    --slds-c-listbox-option-color-background-hover,
    #f3f3f3
  );
}

.slds-listbox__option:focus,
.slds-listbox__option:active {
  background-color: var(
    --slds-c-listbox-option-color-background-hover,
    #f3f3f3
  );
  outline: 2px solid var(--lwc-colorBorderBrand, #1589ee);
  outline-offset: -2px;
}

/* Icon button - Use SLDS defaults, minimal positioning */
.slds-input__icon_right {
  pointer-events: auto;
  cursor: pointer;
}

.slds-input__icon_right:hover {
  color: var(--lwc-colorTextActionLabelHover, #014486);
}

.slds-input__icon_right:focus {
  outline: 2px solid var(--lwc-colorBorderBrand, #1589ee);
  outline-offset: 2px;
}

/* Input - Use SLDS input classes + CSS Hooks */
.slds-input {
  padding-right: 2.5rem; /* Space for icon */
}

.slds-input:focus {
  outline: 0;
  box-shadow: 0 0 3px var(--lwc-colorBrand, #0070d2);
}

.slds-input:disabled {
  cursor: not-allowed;
}

/* Error state - Use SLDS default, CSS Hook already defined in :host */
.slds-has-error {
  background-clip: padding-box;
}

/* Media - Use SLDS defaults, no overrides needed */

/* Responsive - Use SLDS responsive utilities instead of media queries */
@media (max-width: 48rem) {
  .slds-dropdown {
    max-height: 250px;
  }
}
